$(document).ready(function(){prestashop.blockcart=prestashop.blockcart||{};var a=prestashop.blockcart.showModal||function(b){var c=$("body");c.append(b);c.one("click","#blockcart-modal",function(d){if(d.target.id==="blockcart-modal"){$(d.target).remove()}})};prestashop.on("updateCart",function(d){var c=$(".blockcart").data("refresh-url");var b={};if(d&&d.reason){b={id_customization:d.reason.idCustomization,id_product_attribute:d.reason.idProductAttribute,id_product:d.reason.idProduct,action:d.reason.linkAction};$.post(c,b).then(function(e){$(".blockcart").replaceWith($(e.preview).find(".blockcart"));if(e.modal){a(e.modal);$(".loading-wake .add-cart").html("&#xe8cc;");$(".tvproduct-add-to-cart .add-cart").removeClass("tvcms-cart-loading");$(".tvproduct-add-to-cart").removeClass("loading-wake")}}).fail(function(e){prestashop.emit("handleError",{eventType:"updateShoppingCart",resp:e})})}if(d&&d.resp&&d.resp.hasError){prestashop.emit("showErrorNextToAddtoCartButton",{errorMessage:d.resp.errors.join("<br/>")})}})});