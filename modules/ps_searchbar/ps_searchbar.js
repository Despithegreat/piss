$(document).ready(function(){var e=$("#search_widget");var d=e.find("input[type=text]");var f=e.attr("data-search-controller-url");var c=e.find("i.clear");$.widget("prestashop.psBlockSearchAutocomplete",$.ui.autocomplete,{_renderItem:function(h,i){var j=(i.cover)?i.cover:prestashop.urls.no_picture_image;var g=$('<img class="autocomplete-thumbnail" src="'+j.bySize.small_default.url+'">');return $("<li>").append($("<a>").append(g).append($("<span>").html(i.name).addClass("product"))).appendTo(h)}});var b=function(){return $(window).width()<768};var a=function(){return{my:"right top",at:"right bottom",of:b()?".header-top":"#search_widget"}};d.psBlockSearchAutocomplete({position:a(),source:function(h,g){$.post(f,{s:h.term,resultsPerPage:10},null,"json").then(function(i){g(i.products)}).fail(g)},select:function(h,i){var g=i.item.url;window.location.href=g}}).psBlockSearchAutocomplete("widget").addClass("searchbar-autocomplete");$(window).resize(function(){d.psBlockSearchAutocomplete({position:a()});d.keyup()});c.click(function(){d.val("");c.hide()});d.keyup(function(){c.toggle(d.val()!==""&&b())})});