!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(F){function x(b){var a=b.parent();b.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),a.before(b).remove()}function B(d){var c=d.parent(),e=c.find(".minicolors-panel"),b=d.data("minicolors-settings");!d.data("minicolors-initialized")||d.prop("disabled")||c.hasClass("minicolors-inline")||c.hasClass("minicolors-focus")||(y(),c.addClass("minicolors-focus"),e.stop(!0,!0).fadeIn(b.showSpeed,function(){b.show&&b.show.call(d.get(0))}))}function y(){F(".minicolors-focus").each(function(){var c=F(this),e=c.find(".minicolors-input"),d=c.find(".minicolors-panel"),b=e.data("minicolors-settings");d.fadeOut(b.hideSpeed,function(){b.hide&&b.hide.call(e.get(0)),c.removeClass("minicolors-focus")})})}function N(O,W,n){var X,U,b,R,T=O.parents(".minicolors").find(".minicolors-input"),w=T.data("minicolors-settings"),P=O.find("[class$=-picker]"),S=O.offset().left,f=O.offset().top,V=Math.round(W.pageX-S),Q=Math.round(W.pageY-f),v=n?w.animationSpeed:0;W.originalEvent.changedTouches&&(V=W.originalEvent.changedTouches[0].pageX-S,Q=W.originalEvent.changedTouches[0].pageY-f),V<0&&(V=0),Q<0&&(Q=0),V>O.width()&&(V=O.width()),Q>O.height()&&(Q=O.height()),O.parent().is(".minicolors-slider-wheel")&&P.parent().is(".minicolors-grid")&&(X=75-V,U=75-Q,b=Math.sqrt(X*X+U*U),(R=Math.atan2(U,X))<0&&(R+=2*Math.PI),b>75&&(b=75,V=75-75*Math.cos(R),Q=75-75*Math.sin(R)),V=Math.round(V),Q=Math.round(Q)),O.is(".minicolors-grid")?P.stop(!0).animate({top:Q+"px",left:V+"px"},v,w.animationEasing,function(){C(T,O)}):P.stop(!0).animate({top:Q+"px"},v,w.animationEasing,function(){C(T,O)})}function C(ac,T){function X(d,a){var f,e;return d.length&&a?(f=d.offset().left,e=d.offset().top,{x:f-a.offset().left+d.outerWidth()/2,y:e-a.offset().top+d.outerHeight()/2}):null}var U,ai,Y,ag,aa,ad,ah,W=ac.val(),ae=ac.attr("data-opacity"),Z=ac.parent(),af=ac.data("minicolors-settings"),R=Z.find(".minicolors-input-swatch"),Q=Z.find(".minicolors-grid"),u=Z.find(".minicolors-slider"),V=Z.find(".minicolors-opacity-slider"),ab=Q.find("[class$=-picker]"),c=u.find("[class$=-picker]"),P=V.find("[class$=-picker]"),O=X(ab,Q),b=X(c,u),r=X(P,V);if(T.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(af.control){case"wheel":ag=Q.width()/2-O.x,aa=Q.height()/2-O.y,ad=Math.sqrt(ag*ag+aa*aa),(ah=Math.atan2(aa,ag))<0&&(ah+=2*Math.PI),ad>75&&(ad=75,O.x=69-75*Math.cos(ah),O.y=69-75*Math.sin(ah)),ai=q(ad/0.75,0,100),W=M({h:U=q(180*ah/Math.PI,0,360),s:ai,b:Y=q(100-Math.floor(b.y*(100/u.height())),0,100)}),u.css("backgroundColor",M({h:U,s:ai,b:100}));break;case"saturation":W=M({h:U=q(parseInt(O.x*(360/Q.width()),10),0,360),s:ai=q(100-Math.floor(b.y*(100/u.height())),0,100),b:Y=q(100-Math.floor(O.y*(100/Q.height())),0,100)}),u.css("backgroundColor",M({h:U,s:100,b:Y})),Z.find(".minicolors-grid-inner").css("opacity",ai/100);break;case"brightness":W=M({h:U=q(parseInt(O.x*(360/Q.width()),10),0,360),s:ai=q(100-Math.floor(O.y*(100/Q.height())),0,100),b:Y=q(100-Math.floor(b.y*(100/u.height())),0,100)}),u.css("backgroundColor",M({h:U,s:ai,b:100})),Z.find(".minicolors-grid-inner").css("opacity",1-Y/100);break;default:W=M({h:U=q(360-parseInt(b.y*(360/u.height()),10),0,360),s:ai=q(Math.floor(O.x*(100/Q.width())),0,100),b:Y=q(100-Math.floor(O.y*(100/Q.height())),0,100)}),Q.css("backgroundColor",M({h:U,s:100,b:100}))}z(ac,W,ae=af.opacity?parseFloat(1-r.y/V.height()).toFixed(2):1)}else{R.find("span").css({backgroundColor:W,opacity:ae}),L(ac,W,ae)}}function z(d,c,g){var e,b=d.parent(),h=d.data("minicolors-settings"),f=b.find(".minicolors-input-swatch");h.opacity&&d.attr("data-opacity",g),"rgb"===h.format?(e=H(c)?K(c,!0):j(G(c,!0)),g=""===d.attr("data-opacity")?1:q(parseFloat(d.attr("data-opacity")).toFixed(2),0,1),!isNaN(g)&&h.opacity||(g=1),c=d.minicolors("rgbObject").a<=1&&e&&h.opacity?"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(g)+")":"rgb("+e.r+", "+e.g+", "+e.b+")"):(H(c)&&(c=I(c)),c=E(c,h.letterCase)),d.val(c),f.find("span").css({backgroundColor:c,opacity:g}),L(d,c,g)}function J(p,R){var w,Y,U,P,X,l,g,O,V,d,i=p.parent(),h=p.data("minicolors-settings"),c=i.find(".minicolors-input-swatch"),f=i.find(".minicolors-grid"),m=i.find(".minicolors-slider"),b=i.find(".minicolors-opacity-slider"),u=f.find("[class$=-picker]"),W=m.find("[class$=-picker]"),Q=b.find("[class$=-picker]");switch(H(p.val())?(w=I(p.val()),(X=q(parseFloat(D(p.val())).toFixed(2),0,1))&&p.attr("data-opacity",X)):w=E(G(p.val(),!0),h.letterCase),w||(w=E(A(h.defaultValue,!0),h.letterCase)),Y=function(e){var a=function(v){var r={h:0,s:0,b:0},T=Math.min(v.r,v.g,v.b),S=Math.max(v.r,v.g,v.b),n=S-T;r.b=S,r.s=0!==S?255*n/S:0,0!==r.s?v.r===S?r.h=(v.g-v.b)/n:v.g===S?r.h=2+(v.b-v.r)/n:r.h=4+(v.r-v.g)/n:r.h=-1;r.h*=60,r.h<0&&(r.h+=360);return r.s*=100/255,r.b*=100/255,r}(j(e));0===a.s&&(a.h=360);return a}(w),P=h.keywords?F.map(h.keywords.split(","),function(a){return F.trim(a.toLowerCase())}):[],l=""!==p.val()&&F.inArray(p.val().toLowerCase(),P)>-1?E(p.val()):H(p.val())?K(p.val()):w,R||p.val(l),h.opacity&&(U=""===p.attr("data-opacity")?1:q(parseFloat(p.attr("data-opacity")).toFixed(2),0,1),isNaN(U)&&(U=1),p.attr("data-opacity",U),c.find("span").css("opacity",U),O=q(b.height()-b.height()*U,0,b.height()),Q.css("top",O+"px")),"transparent"===p.val().toLowerCase()&&c.find("span").css("opacity",0),c.find("span").css("backgroundColor",w),h.control){case"wheel":V=q(Math.ceil(0.75*Y.s),0,f.height()/2),d=Y.h*Math.PI/180,g=q(75-Math.cos(d)*V,0,f.width()),O=q(75-Math.sin(d)*V,0,f.height()),u.css({top:O+"px",left:g+"px"}),O=150-Y.b/(100/f.height()),""===w&&(O=0),W.css("top",O+"px"),m.css("backgroundColor",M({h:Y.h,s:Y.s,b:100}));break;case"saturation":g=q(5*Y.h/12,0,150),O=q(f.height()-Math.ceil(Y.b/(100/f.height())),0,f.height()),u.css({top:O+"px",left:g+"px"}),O=q(m.height()-Y.s*(m.height()/100),0,m.height()),W.css("top",O+"px"),m.css("backgroundColor",M({h:Y.h,s:100,b:Y.b})),i.find(".minicolors-grid-inner").css("opacity",Y.s/100);break;case"brightness":g=q(5*Y.h/12,0,150),O=q(f.height()-Math.ceil(Y.s/(100/f.height())),0,f.height()),u.css({top:O+"px",left:g+"px"}),O=q(m.height()-Y.b*(m.height()/100),0,m.height()),W.css("top",O+"px"),m.css("backgroundColor",M({h:Y.h,s:Y.s,b:100})),i.find(".minicolors-grid-inner").css("opacity",1-Y.b/100);break;default:g=q(Math.ceil(Y.s/(100/f.width())),0,f.width()),O=q(f.height()-Math.ceil(Y.b/(100/f.height())),0,f.height()),u.css({top:O+"px",left:g+"px"}),O=q(m.height()-Y.h/(360/m.height()),0,m.height()),W.css("top",O+"px"),f.css("backgroundColor",M({h:Y.h,s:100,b:100}))}p.data("minicolors-initialized")&&L(p,l,U)}function L(d,c,l){var f,b,m,g=d.data("minicolors-settings"),h=d.data("minicolors-lastChange");if(!h||h.value!==c||h.opacity!==l){if(d.data("minicolors-lastChange",{value:c,opacity:l}),g.swatches&&0!==g.swatches.length){for(f=H(c)?K(c,!0):j(c),b=-1,m=0;m<g.swatches.length;++m){if(f.r===g.swatches[m].r&&f.g===g.swatches[m].g&&f.b===g.swatches[m].b&&f.a===g.swatches[m].a){b=m;break}}d.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==b&&d.parent().find(".minicolors-swatches .minicolors-swatch").eq(m).addClass("selected")}g.change&&(g.changeDelay?(clearTimeout(d.data("minicolors-changeTimeout")),d.data("minicolors-changeTimeout",setTimeout(function(){g.change.call(d.get(0),c,l)},g.changeDelay))):g.change.call(d.get(0),c,l)),d.trigger("change").trigger("input")}}function E(b,a){return"uppercase"===a?b.toUpperCase():b.toLowerCase()}function G(b,a){return(b=b.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==b.length&&6!==b.length?"":(3===b.length&&a&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),"#"+b):""}function K(b,a){var c=b.replace(/[^\d,.]/g,"").split(",");return c[0]=q(parseInt(c[0],10),0,255),c[1]=q(parseInt(c[1],10),0,255),c[2]=q(parseInt(c[2],10),0,255),c[3]&&(c[3]=q(parseFloat(c[3],10),0,1)),a?c[3]?{r:c[0],g:c[1],b:c[2],a:c[3]}:{r:c[0],g:c[1],b:c[2]}:void 0!==c[3]&&c[3]<=1?"rgba("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")":"rgb("+c[0]+", "+c[1]+", "+c[2]+")"}function A(b,a){return H(b)?K(b):G(b,a)}function q(b,a,c){return b<a&&(b=a),b>c&&(b=c),b}function H(b){var a=b.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return !(!a||4!==a.length)}function D(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===a.length?a[4]:"1"}function I(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}function k(a){var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];return F.each(b,function(d,c){1===c.length&&(b[d]="0"+c)}),"#"+b.join("")}function M(a){return k(function(d){var c={},l=Math.round(d.h),f=Math.round(255*d.s/100),b=Math.round(255*d.b/100);if(0===f){c.r=c.g=c.b=b}else{var m=b,g=(255-f)*b/255,h=l%60*(m-g)/60;360===l&&(l=0),l<60?(c.r=m,c.b=g,c.g=g+h):l<120?(c.g=m,c.b=g,c.r=m-h):l<180?(c.g=m,c.r=g,c.b=g+h):l<240?(c.b=m,c.r=g,c.g=m-h):l<300?(c.b=m,c.g=g,c.r=g+h):l<360?(c.r=m,c.g=g,c.b=m-h):(c.r=0,c.g=0,c.b=0)}return{r:Math.round(c.r),g:Math.round(c.g),b:Math.round(c.b)}}(a))}function j(a){return{r:(a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16))>>16,g:(65280&a)>>8,b:255&a}}F.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},F.extend(F.fn,{minicolors:function(b,c){switch(b){case"destroy":return F(this).each(function(){x(F(this))}),F(this);case"hide":return y(),F(this);case"opacity":return void 0===c?F(this).attr("data-opacity"):(F(this).each(function(){J(F(this).attr("data-opacity",c))}),F(this));case"rgbObject":return function(e){var g,f=F(e).attr("data-opacity");if(H(F(e).val())){g=K(F(e).val(),!0)}else{var d=G(F(e).val(),!0);g=j(d)}if(!g){return null}void 0!==f&&F.extend(g,{a:parseFloat(f)});return g}(F(this));case"rgbString":case"rgbaString":return function(e,g){var f,d=F(e).attr("data-opacity");if(H(F(e).val())){f=K(F(e).val(),!0)}else{var h=G(F(e).val(),!0);f=j(h)}if(!f){return null}void 0===d&&(d=1);return g?"rgba("+f.r+", "+f.g+", "+f.b+", "+parseFloat(d)+")":"rgb("+f.r+", "+f.g+", "+f.b+")"}(F(this),"rgbaString"===b);case"settings":return void 0===c?F(this).data("minicolors-settings"):(F(this).each(function(){var a=F(this).data("minicolors-settings")||{};x(F(this)),F(this).minicolors(F.extend(!0,a,c))}),F(this));case"show":return B(F(this).eq(0)),F(this);case"value":return void 0===c?F(this).val():(F(this).each(function(){"object"==typeof c&&null!==c?(c.opacity&&F(this).attr("data-opacity",q(c.opacity,0,1)),c.color&&F(this).val(c.color)):F(this).val(c),J(F(this))}),F(this));default:return"create"!==b&&(c=b),F(this).each(function(){!function(u,f){var v,m,g,d,i,h=F('<div class="minicolors" />'),e=F.minicolors.defaults;if(u.data("minicolors-initialized")){return}f=F.extend(!0,{},e,f),h.addClass("minicolors-theme-"+f.theme).toggleClass("minicolors-with-opacity",f.opacity),void 0!==f.position&&F.each(f.position.split(" "),function(){h.addClass("minicolors-position-"+this)});v="rgb"===f.format?f.opacity?"25":"20":f.keywords?"11":"7";u.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",f).prop("size",v).wrap(h).after('<div class="minicolors-panel minicolors-slider-'+f.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),f.inline||(u.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),u.next(".minicolors-input-swatch").on("click",function(a){a.preventDefault(),u.focus()}));if((d=u.parent().find(".minicolors-panel")).on("selectstart",function(){return !1}).end(),f.swatches&&0!==f.swatches.length){for(d.addClass("minicolors-with-swatches"),m=F('<ul class="minicolors-swatches"></ul>').appendTo(d),i=0;i<f.swatches.length;++i){g=H(g=f.swatches[i])?K(g,!0):j(G(g,!0)),F('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(m).data("swatch-color",f.swatches[i]).find(".minicolors-swatch-color").css({backgroundColor:k(g),opacity:g.a}),f.swatches[i]=g}}f.inline&&u.parent().addClass("minicolors-inline");J(u,!1),u.data("minicolors-initialized",!0)}(F(this),c)}),F(this)}}}),F([document]).on("mousedown.minicolors touchstart.minicolors",function(a){F(a.target).parents().add(a.target).hasClass("minicolors")||y()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(a){var b=F(this);a.preventDefault(),F(a.delegateTarget).data("minicolors-target",b),N(b,a,!0)}).on("mousemove.minicolors touchmove.minicolors",function(a){var b=F(a.delegateTarget).data("minicolors-target");b&&N(b,a)}).on("mouseup.minicolors touchend.minicolors",function(){F(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(c){c.preventDefault();var e=F(this),d=e.parents(".minicolors").find(".minicolors-input"),b=e.data("swatch-color");z(d,b,D(b)),J(d)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(a){var b=F(this).parent().find(".minicolors-input");a.preventDefault(),B(b)}).on("focus.minicolors",".minicolors-input",function(){var a=F(this);a.data("minicolors-initialized")&&B(a)}).on("blur.minicolors",".minicolors-input",function(){var c,h,d,b,i,f=F(this),g=f.data("minicolors-settings");f.data("minicolors-initialized")&&(c=g.keywords?F.map(g.keywords.split(","),function(a){return F.trim(a.toLowerCase())}):[],i=""!==f.val()&&F.inArray(f.val().toLowerCase(),c)>-1?f.val():null===(d=H(f.val())?K(f.val(),!0):(h=G(f.val(),!0))?j(h):null)?g.defaultValue:"rgb"===g.format?g.opacity?K("rgba("+d.r+","+d.g+","+d.b+","+f.attr("data-opacity")+")"):K("rgb("+d.r+","+d.g+","+d.b+")"):k(d),b=g.opacity?f.attr("data-opacity"):1,"transparent"===i.toLowerCase()&&(b=0),f.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",b),f.val(i),""===f.val()&&f.val(A(g.defaultValue,!0)),f.val(E(f.val(),g.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(a){var b=F(this);if(b.data("minicolors-initialized")){switch(a.keyCode){case 9:y();break;case 13:case 27:y(),b.blur()}}}).on("keyup.minicolors",".minicolors-input",function(){var a=F(this);a.data("minicolors-initialized")&&J(a,!0)}).on("paste.minicolors",".minicolors-input",function(){var a=F(this);a.data("minicolors-initialized")&&setTimeout(function(){J(a,!0)},1)})});